<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Comment Bot · Registrator.jl</title><meta name="title" content="Comment Bot · Registrator.jl"/><meta property="og:title" content="Comment Bot · Registrator.jl"/><meta property="twitter:title" content="Comment Bot · Registrator.jl"/><meta name="description" content="Documentation for Registrator.jl."/><meta property="og:description" content="Documentation for Registrator.jl."/><meta property="twitter:description" content="Documentation for Registrator.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Registrator.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../hosting/">Hosting Your Own</a></li><li><a class="tocitem" href="../docker/">Using Docker</a></li><li class="is-active"><a class="tocitem" href>Comment Bot</a><ul class="internal"><li><a class="tocitem" href="#Configuring-the-Machine"><span>Configuring the Machine</span></a></li><li><a class="tocitem" href="#A-Bot-Account"><span>A Bot Account</span></a></li><li><a class="tocitem" href="#The-GitHub-App"><span>The GitHub App</span></a></li></ul></li><li><a class="tocitem" href="../webui/">Web UI</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Comment Bot</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Comment Bot</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaRegistries/Registrator.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaRegistries/Registrator.jl/blob/master/docs/src/commentbot.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Registrator-Comment-Bot"><a class="docs-heading-anchor" href="#Registrator-Comment-Bot">Registrator Comment Bot</a><a id="Registrator-Comment-Bot-1"></a><a class="docs-heading-anchor-permalink" href="#Registrator-Comment-Bot" title="Permalink"></a></h1><p>Here we&#39;ll discuss hosting an instance of Registrator&#39;s comment bot on a local system behind a subnet for use with a registry other than General.</p><h2 id="Configuring-the-Machine"><a class="docs-heading-anchor" href="#Configuring-the-Machine">Configuring the Machine</a><a id="Configuring-the-Machine-1"></a><a class="docs-heading-anchor-permalink" href="#Configuring-the-Machine" title="Permalink"></a></h2><p>The relevant configuration settings here live in the <code>[commentbot]</code> section of <code>run/config.commentbot.toml</code>:</p><ul><li><code>http_port</code>: Set this to a port configured on the router to allow HTTP traffic that is not otherwise in use (e.g. not what is used for SSH access to the machine). This will be the port on which the comment bot service will listen for GitHub events.</li><li><code>http_ip</code>: This is the IP address of the host machine on its network. Note that this is NOT localhost, nor is it necessarily the machine&#39;s external IP.</li></ul><p>You can ensure that the host IP and port are configured properly by running the following on the host, substituting the appropriate values:</p><pre><code class="language-julia hljs">using HTTP
HTTP.listen(http_ip, http_port) do _
    println(&quot;I hear you!&quot;)
end</code></pre><p>then entering the URL <code>http://&lt;http_ip&gt;:&lt;http_port&gt;</code> in a browser. If all goes well, the listener running on the server should print.</p><h2 id="A-Bot-Account"><a class="docs-heading-anchor" href="#A-Bot-Account">A Bot Account</a><a id="A-Bot-Account-1"></a><a class="docs-heading-anchor-permalink" href="#A-Bot-Account" title="Permalink"></a></h2><p>Since access to private repositories is required to work with a private registry, it&#39;s recommended to set up a &quot;bot&quot; account with limited permission within the organization. Authenticating as a user with elevated permissions may pose a security risk. Note that this is true regardless of whether the registry is private, since GitHub personal access tokens do not currently provide sufficiently granular access permissions.</p><p>Once such an account is created, create a personal access token for it for authentication.</p><p>In <code>run/config.commentbot.toml</code> in the <code>[commentbot.github]</code> section, set the following:</p><ul><li><code>user</code>: The GitHub username for the account.</li><li><code>token</code>: A personal access token for authenticating as this user.</li></ul><p>In the <code>[commentbot]</code> section, set <code>trigger</code> to <code>@&lt;user&gt;</code>.</p><h2 id="The-GitHub-App"><a class="docs-heading-anchor" href="#The-GitHub-App">The GitHub App</a><a id="The-GitHub-App-1"></a><a class="docs-heading-anchor-permalink" href="#The-GitHub-App" title="Permalink"></a></h2><p>A <a href="https://developer.github.com/apps/">GitHub App</a> is required to use the comment bot. In the organization settings, create a new GitHub App. Note that this App should be owned by the organization and not by the bot user in order to be installable without making it public.</p><p>Fill out the necessary fields in the app registration. For the webhook URL, use <code>http://&lt;http_ip&gt;:&lt;http_port&gt;</code>, where the values in brackets are what was entered into <code>run/config.commentbot.toml</code> when configuring the host machine. Enter a webhook secret and record the value you entered as <code>secret</code> in the <code>[commentbot.github]</code> section of <code>run/config.commentbot.toml</code>.</p><p>No organization or user permissions are required. For repository permissions, set at least:</p><ul><li>Contents: Read-only</li><li>Issues: Read-only</li><li>Metadata: Read-only</li><li>Commit statuses: Read-only</li></ul><p>Subscribe to commit and issue comments.</p><p>For private registries, ensure that the app is only installable on this account.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../docker/">« Using Docker</a><a class="docs-footer-nextpage" href="../webui/">Web UI »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 27 January 2026 20:29">Tuesday 27 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
